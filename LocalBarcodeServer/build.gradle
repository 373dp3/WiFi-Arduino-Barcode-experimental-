/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */
apply plugin: 'java'
apply plugin: 'application'

mainClassName = 'jp.dp3.kota.sheets.BootStub'
sourceCompatibility = 1.7
targetCompatibility = 1.7
version = '1.1'

tasks.withType(AbstractCompile)*.options*.encoding = tasks.withType(GroovyCompile)*.groovyOptions*.encoding = 'UTF-8'

repositories {
    mavenCentral()
}

dependencies {
    compile 'com.google.api-client:google-api-client:1.23.0'
    compile 'com.google.oauth-client:google-oauth-client-jetty:1.23.0'
    compile 'com.google.apis:google-api-services-sheets:v4-rev520-1.23.0'
	compile 'com.eclipsesource.minimal-json:minimal-json:0.9.4'
    compile group: 'org.xerial', name: 'sqlite-jdbc', version: '3.7.2'
    compile group: 'org.apache.logging.log4j', name: 'log4j-api', version: '2.11.0'
    compile group: 'org.apache.logging.log4j', name: 'log4j-core', version: '2.11.0'
    compile group: 'org.apache.poi', name: 'poi', version: '3.15'
    compile group: 'org.apache.poi', name: 'poi-ooxml', version: '3.15'

	compile 'commons-net:commons-net:3.6'
    
}

task executableJar(type: Jar, dependsOn: jar)  {
    archiveName = "${mainClassName}.jar"
    manifest {
        attributes 'Main-Class' : mainClassName
    }

    from configurations.compile.collect {it.isDirectory() ? it : zipTree(it)}
    from "$buildDir/classes/main"
    from "$buildDir/resources/main"
}

jar {
  manifest {
    attributes 'Implementation-Title': 'Test Tools',
    'Implementation-Version': 1.0 
    attributes "Main-Class" : "${mainClassName}"
  }
  from configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
}
